(this.webpackJsonpstockswatch_client=this.webpackJsonpstockswatch_client||[]).push([[0],{142:function(e,t,a){e.exports=a(310)},308:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(21),o=a.n(s),c=a(35),i=a(29),l=a(5),u=a.n(l),h=a(13),m=a(7),p=a(8),d=a(10),b=a(9),g=a(12),f=a(11),y=a(315),v=a(316),k=a(314),S=a(317),E=a(137),x=a(138),C=a(45),w=function(){function e(t,a,r,n,s,o){Object(m.a)(this,e),this.id=t,this.username=a,this.firstName=r,this.lastName=n,this.isAuth=s,this.stocks=o}return Object(p.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getUsername",value:function(){return this.username}},{key:"getFirstName",value:function(){return this.firstName}},{key:"getLastName",value:function(){return this.lastName}},{key:"getIsAuth",value:function(){return this.isAuth}},{key:"getStocks",value:function(){return this.stocks}},{key:"addStock",value:function(e){this.stocks.push(e)}},{key:"setFirstName",value:function(e){this.firstName=e}},{key:"setLastName",value:function(e){this.lastName=e}}]),e}(),O=function(){return"true"===localStorage.getItem("isAuth")},j=function(e){localStorage.setItem("isAuth",e.getIsAuth()),localStorage.setItem("id",e.getId()),localStorage.setItem("username",e.getUsername()),localStorage.setItem("firstname",e.getFirstName()),localStorage.setItem("lastname",e.getLastName()),localStorage.setItem("stocks",JSON.stringify(e.getStocks()))},I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={url:"",firstname:"",lastname:"",username:"",symbols:[],companies:[],data:[],dataType:"",searchText:"Select a Symbol",searchValue:"",searchDisabled:!0},a.searchStock=a.searchStock.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.logout=a.logout.bind(Object(g.a)(a)),a.toggleChange=a.toggleChange.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=this;void 0!==e[0]&&this.setState({searchValue:encodeURIComponent(e[0])},(function(){void 0!==t.state.searchValue&&t.setState({searchDisabled:!1})}))}},{key:"toggleChange",value:function(e){1===e&&this.setState({searchText:"Select a Symbol",data:this.state.symbols,dataType:"symbol",searchValue:""}),2===e&&this.setState({searchText:"Select a Company",data:this.state.companies,dataType:"company",searchValue:""})}},{key:"prepareSearchbar",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,a,r,n,s,o,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("symbols")){e.next=19;break}return t="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/symbols"),e.prev=2,e.next=5,fetch(t);case 5:if(200!==(a=e.sent).status){e.next=12;break}return e.next=9,a.json();case 9:r=e.sent,localStorage.setItem("symbols",JSON.stringify(r)),this.setState({symbols:r});case 12:if(500!==a.status){e.next=14;break}throw new Error;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),this.props.history.push("/NotFound");case 19:if(localStorage.getItem("companies")){e.next=36;break}return n="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/companies"),e.prev=21,e.next=24,fetch(n);case 24:if(200!==(s=e.sent).status){e.next=31;break}return e.next=28,s.json();case 28:o=e.sent,localStorage.setItem("companies",JSON.stringify(o)),this.setState({companies:o});case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(21),this.props.history.push("/NotFound");case 36:this.setState({symbols:JSON.parse(localStorage.getItem("symbols")),companies:JSON.parse(localStorage.getItem("companies"))},(function(){c.setState({data:c.state.symbols,dataType:"symbol"})}));case 37:case"end":return e.stop()}}),e,this,[[2,16],[21,33]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbolForCompany",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/convert/company/").concat(t),e.prev=1,e.next=4,fetch(a);case 4:if(200!==(r=e.sent).status){e.next=10;break}return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:if(500!==r.status){e.next=12;break}throw new Error;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),this.props.history.push("/NotFound");case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchStock",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"company"!==this.state.dataType){e.next=12;break}return e.prev=2,e.next=5,this.getSymbolForCompany(this.state.searchValue);case 5:a=e.sent,this.setState({searchValue:a,searchDisabled:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.props.history.push("/NotFound");case 12:this.setState({url:"/search/".concat(this.state.searchValue),searchValue:"",searchDisabled:!0},(function(){return r.props.history.push(r.state.url)}));case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.clear(),this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.prepareSearchbar()}},{key:"render",value:function(){var e=n.a.createElement(y.a,{sticky:"top",bg:"dark",variant:"dark",expand:"lg"},n.a.createElement(y.a.Brand,{href:"/"},"StocksWatch"),n.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(v.a,{className:"mr-auto"},n.a.createElement(v.a.Link,{href:"/login"},"Login"),n.a.createElement(v.a.Link,{href:"/register"},"Register")),n.a.createElement(k.a,{inline:!0,onSubmit:this.searchStock},n.a.createElement(S.a,{id:"toggleGroup",type:"radio",name:"search-option",defaultValue:1,onChange:this.toggleChange},n.a.createElement(E.a,{variant:"outline-info",value:1},"Symbol"),n.a.createElement(E.a,{variant:"outline-info",value:2},"Company")),n.a.createElement(C.Typeahead,{id:"searchInput",className:"mr-sm-2",onChange:this.handleChange,options:this.state.data,flip:!0,placeholder:this.state.searchText,value:this.state.searchValue}),n.a.createElement(x.a,{id:"searchBtn",variant:"outline-info",type:"submit",disabled:this.state.searchDisabled},"Search"))));if(O()){var t=new w(localStorage.getItem("id"),localStorage.getItem("username"),localStorage.getItem("firstname"),localStorage.getItem("lastname"),localStorage.getItem("isAuth"),JSON.parse(localStorage.getItem("stocks")));e=n.a.createElement(y.a,{sticky:"top",bg:"dark",variant:"dark",expand:"lg"},n.a.createElement(y.a.Brand,{href:"/"},"StocksWatch"),n.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(v.a,{className:"mr-auto"},n.a.createElement(v.a.Link,{disabled:!0},n.a.createElement("span",{id:"name"},t.getFirstName()," ",t.getLastName())),n.a.createElement(v.a.Link,{href:"/dow30"},"Dow 30"),n.a.createElement(v.a.Link,{href:"/watchlist"},"Watchlist"),n.a.createElement(v.a.Link,{href:"/settings"},"Settings"),n.a.createElement(v.a.Link,{onClick:this.logout,href:"/"},"Logout")),n.a.createElement(k.a,{inline:!0,onSubmit:this.searchStock},n.a.createElement(S.a,{id:"toggleGroup",type:"radio",name:"search-option",defaultValue:1,onChange:this.toggleChange},n.a.createElement(E.a,{variant:"outline-info",value:1},"Symbol"),n.a.createElement(E.a,{variant:"outline-info",value:2},"Company")),n.a.createElement(C.Typeahead,{id:"searchInput",className:"mr-sm-2",onChange:this.handleChange,options:this.state.data,flip:!0,placeholder:this.state.searchText,value:this.state.searchValue}),n.a.createElement(x.a,{id:"searchBtn",variant:"outline-success",type:"submit",disabled:this.state.searchDisabled},"Search"))))}return e}}]),t}(n.a.Component),N=Object(i.f)(I),D=a(313),L=a(140),F=a.n(L),T=a(141),A=a.n(T),U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={symbol:null,prices:null,currentPrice:null,companyName:null,chartOptions:{title:{},series:[],colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"},selected:2},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"prepareChart",value:function(){var e=this.state.prices.high,t=this.state.prices.low;this.setState({chartOptions:{title:{text:void 0===this.state.companyName?"".concat(this.state.symbol," <br/><br/> $").concat(this.state.currentPrice):"".concat(this.state.companyName," (").concat(this.state.symbol,") <br/><br/> $").concat(this.state.currentPrice),style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},series:[{name:"".concat(this.state.symbol," High Price"),data:e.reverse()},{name:"".concat(this.state.symbol," Low Price"),data:t.reverse()}]}})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.data;this.setState({symbol:t.symbol,prices:t.prices,currentPrice:t.currentPrice,companyName:t.company},(function(){return e.prepareChart()}))}},{key:"componentDidUpdate",value:function(e){var t=this;if("single"===this.props.type&&e.data.symbol!==this.props.data.symbol){var a=this.props.data;this.setState({symbol:a.symbol,prices:a.prices,currentPrice:a.currentPrice,companyName:a.company},(function(){return t.prepareChart()}))}}},{key:"render",value:function(){return n.a.createElement(F.a,{options:this.state.chartOptions,highcharts:A.a,constructorType:"stockChart"})}}]),t}(n.a.Component),J=a(312),z=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"spinner"},n.a.createElement(J.a,{className:"spin",animation:"border",variant:"info",size:"lg"}))}}]),t}(n.a.Component),P=a(318),V=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(P.a,{variant:"danger"},n.a.createElement(P.a.Heading,null,"Service Unavailable"),n.a.createElement("p",null,this.props.message))}}]),t}(n.a.Component),B=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(P.a,{variant:"info"},n.a.createElement(P.a.Heading,null,this.props.header),this.props.message)}}]),t}(n.a.Component),G=function(){var e=Object(h.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:a});case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("POST request failed!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},body:a});case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("DELETE request failed!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:a});case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("PUT request failed!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={data:"",error:!1,btnDisable:!1,btnText:"Add to Watchlist"},a.addUserStock=a.addUserStock.bind(Object(g.a)(a)),a.checkStockInWatchlist=a.checkStockInWatchlist.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchData",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.api+this.props.symbol,e.prev=1,e.next=4,fetch(t);case 4:if(200!==(a=e.sent).status){e.next=10;break}return e.next=8,a.json();case 8:r=e.sent,this.setState({data:r,error:!1});case 10:if(500!==a.status){e.next=12;break}throw new Error;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({error:!0});case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"addUserStock",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i,l,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.symbol,r=localStorage.getItem("id"),n=localStorage.getItem("username"),s="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/watchlist"),o=JSON.stringify({userId:r,stock:a,username:n}),e.prev=6,e.next=9,G(s,o);case 9:if(200!==(c=e.sent).status){e.next=20;break}return e.next=13,c.json();case 13:i=e.sent,l=i.symbol,(h=JSON.parse(localStorage.getItem("stocks"))).push(l),h=JSON.stringify(h),localStorage.setItem("stocks",h),this.setState({btnDisable:!0,btnText:"Added!"});case 20:if(500!==c.status){e.next=22;break}throw new Error;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),this.setState({error:!0});case 27:case"end":return e.stop()}}),e,this,[[6,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"checkStockInWatchlist",value:function(e){""!==this.props.symbol&&(localStorage.getItem("stocks")&&JSON.parse(localStorage.getItem("stocks")).includes(this.props.symbol)&&this.setState({btnDisable:!0,btnText:"Added!"}))}},{key:"componentDidMount",value:function(){this.fetchData(),this.checkStockInWatchlist()}},{key:"componentDidUpdate",value:function(e){e.symbol!==this.props.symbol&&(this.setState({btnDisable:!1,btnText:"Add to Watchlist"}),this.fetchData(),this.checkStockInWatchlist())}},{key:"render",value:function(){if(this.state.error)return n.a.createElement(V,{message:"There is an error getting the data for that stock!"});if(""!==this.state.data){var e=this.state.data;if(e.hasOwnProperty("DOW30")){var t=[],a=e.DOW30,r="Login or Register to build your personalized watchlist";return O()&&(r="Companies in the Dow Jones Industrial Average"),t.push(n.a.createElement(B,{header:"Dow 30",message:r})),a.forEach((function(e){return t.push(n.a.createElement(U,{data:e,type:"multiple"}))})),t}return O()?n.a.createElement(n.a.Fragment,null,n.a.createElement(U,{data:e,type:"single"}),n.a.createElement("br",null),n.a.createElement(D.a,{className:"center"},n.a.createElement(x.a,{variant:"success",onClick:this.addUserStock,disabled:this.state.btnDisable},this.state.btnText))):n.a.createElement(U,{data:e,type:"single"})}return n.a.createElement(z,null)}}]),t}(n.a.Component),H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={watchlist:[],data:"",error:!1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchData",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.watchlist.length>0)){e.next=19;break}return t=this.props.api,a=JSON.stringify({watchlist:JSON.parse(localStorage.getItem("stocks"))}),e.prev=3,e.next=6,G(t,a);case 6:if(200!==(r=e.sent).status){e.next=12;break}return e.next=10,r.json();case 10:n=e.sent,this.setState({data:n});case 12:if(500!==r.status){e.next=14;break}throw new Error;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.setState({error:!0});case 19:case"end":return e.stop()}}),e,this,[[3,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("stocks"));this.setState({watchlist:t},(function(){return e.fetchData()}))}},{key:"render",value:function(){var e=0===this.state.watchlist.length?n.a.createElement("p",null,"Your watchlist is currently empty! Go ",n.a.createElement("a",{href:"/watchlist"},"here")," to add to your watchlist"):n.a.createElement("p",null,"Go ",n.a.createElement("a",{href:"/watchlist"},"here")," to update your watchlist"),t=n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(V,{message:"Could not load your watchlist at this time!"}):n.a.createElement(B,{header:"Your Watchlist",message:e}));if(this.state.watchlist.length>0&&""!==this.state.data){var a=this.state.data;if(a.hasOwnProperty("watchlist")){var r=[];return r.push(t),a.watchlist.forEach((function(e){r.push(n.a.createElement(U,{data:e,type:"multiple"}))})),r}}return 0===this.state.watchlist.length?t:n.a.createElement(z,null)}}]),t}(n.a.Component),M=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(P.a,{variant:"danger"},n.a.createElement(P.a.Heading,null,"Oops! Something Unexpected Has Occured!"),n.a.createElement("p",null,"Something bad has happened. Please try again later!"))}}]),t}(n.a.Component),_=a(38),Y=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(P.a,{variant:"danger"},n.a.createElement(P.a.Heading,null,"An Error Has Occurred"),n.a.createElement("p",null,this.props.message))}}]),t}(n.a.Component),$=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={username:"",password:"",error:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.login=a.login.bind(Object(g.a)(a)),a.toRegister=a.toRegister.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(_.a)({},t,a))}},{key:"login",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.username,r=this.state.password,a=a.trim().toLowerCase(),r=r.trim(),n=JSON.stringify({username:a,password:r}),s="".concat("https://pvr3p4njrl.execute-api.us-east-1.amazonaws.com/dev/api/user/login"),e.prev=7,e.next=10,G(s,n);case 10:if(200!==(o=e.sent).status){e.next=18;break}return e.next=14,o.json();case 14:c=e.sent,i=new w(c.user_id,c.username,c.firstname,c.lastname,!0,c.stocks),j(i),this.props.history.push("/");case 18:if(500!==o.status){e.next=20;break}throw new Y;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),this.setState({error:!0});case 25:case"end":return e.stop()}}),e,this,[[7,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toRegister",value:function(){this.props.history.push("/register")}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(Y,{message:"The username or password entered does not match our records. Please try agian!"}):"",n.a.createElement("div",{id:"login"},n.a.createElement(k.a,{onSubmit:this.login},n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Username"),n.a.createElement(k.a.Control,{type:"text",name:"username",placeholder:"Enter username",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Password"),n.a.createElement(k.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),n.a.createElement(x.a,{variant:"info",type:"submit"},"Login"),n.a.createElement("span",{className:"space"}),n.a.createElement(x.a,{variant:"outline-info",onClick:this.toRegister},"Register"))))}}]),t}(n.a.Component),K=Object(i.f)($),Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={username:"",password:"",firstname:"",lastname:"",error:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.register=a.register.bind(Object(g.a)(a)),a.toLogin=a.toLogin.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(_.a)({},t,a))}},{key:"register",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i,l,h,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.username.trim().toLowerCase(),r=this.state.password.trim(),n=this.state.firstname.trim().toLowerCase(),s=this.state.lastname.trim().toLowerCase(),n=n.charAt(0).toUpperCase()+n.slice(1),s=s.charAt(0).toUpperCase()+s.slice(1),o=JSON.stringify({username:a,password:r,firstname:n,lastname:s}),c="".concat("https://pvr3p4njrl.execute-api.us-east-1.amazonaws.com/dev/api/user/register"),e.prev=9,e.next=12,G(c,o);case 12:if(200!==(i=e.sent).status){e.next=21;break}return e.next=16,i.json();case 16:l=e.sent,h=l.id,m=new w(h,a,n,s,!0,[]),j(m),this.props.history.push("/");case 21:if(500!==i.status){e.next=23;break}throw new Y;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),this.setState({error:!0});case 28:case"end":return e.stop()}}),e,this,[[9,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toLogin",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(Y,{message:"There has been an error registering your information. Please try again!"}):"",n.a.createElement("div",{id:"login"},n.a.createElement(k.a,{onSubmit:this.register},n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Username"),n.a.createElement(k.a.Control,{type:"text",placeholder:"Enter username",name:"username",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"First Name"),n.a.createElement(k.a.Control,{type:"text",placeholder:"Enter first name",name:"firstname",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Last Name"),n.a.createElement(k.a.Control,{type:"text",placeholder:"Enter last name",name:"lastname",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Password"),n.a.createElement(k.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange})),n.a.createElement(x.a,{variant:"info",type:"submit"},"Register"),n.a.createElement("span",{className:"space"}),n.a.createElement(x.a,{variant:"outline-info",onClick:this.toLogin},"Login"))))}}]),t}(n.a.Component),X=Object(i.f)(Q),Z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={ogUsername:localStorage.getItem("username"),username:localStorage.getItem("username"),firstname:localStorage.getItem("firstname"),lastname:localStorage.getItem("lastname"),password:"",error:!1,errMessage:"There has been an error updating your settings!"},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.update=a.update.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(_.a)({},t,a))}},{key:"update",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i,l,h,m,p=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!1,r=this.state.username,n=this.state.password,s=this.state.firstname,o=this.state.lastname,r=r.trim().toLowerCase(),n=n.trim(),s=s.trim().toLowerCase(),o=o.trim().toLowerCase(),s=s.charAt(0).toUpperCase()+s.slice(1),o=o.charAt(0).toUpperCase()+o.slice(1),0!==r.length&&0!==n.length&&0!==s.length&&0!==o.length||(a=!0,this.setState({errMessage:"Please make sure none of the fields are empty!"})),a){e.next=36;break}return c="".concat("https://pvr3p4njrl.execute-api.us-east-1.amazonaws.com/dev/api/user/settings"),i=JSON.stringify({userId:localStorage.getItem("id"),ogUsername:this.state.ogUsername,username:r,password:n,firstname:s,lastname:o}),e.prev=16,e.next=19,q(c,i);case 19:if(200!==(l=e.sent).status){e.next=27;break}return e.next=23,l.json();case 23:h=e.sent,m=new w(localStorage.getItem("id"),h.username,h.firstname,h.lastname,localStorage.getItem("isAuth"),JSON.parse(localStorage.getItem("stocks"))),j(m),this.setState({ogUsername:m.getUsername(),username:m.getUsername(),firstname:m.getFirstName(),lastname:m.getLastName()},(function(){p.props.history.push("/")}));case 27:if(500!==l.status){e.next=29;break}throw new Y;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(16),this.setState({error:!0});case 34:e.next=37;break;case 36:this.setState({error:!0});case 37:case"end":return e.stop()}}),e,this,[[16,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(Y,{message:this.state.errMessage}):"",n.a.createElement("div",{id:"settings"},n.a.createElement(k.a,{onSubmit:this.update},n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Username"),n.a.createElement(k.a.Control,{type:"text",value:this.state.username,name:"username",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"First Name"),n.a.createElement(k.a.Control,{type:"text",value:this.state.firstname,name:"firstname",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Last Name"),n.a.createElement(k.a.Control,{type:"text",value:this.state.lastname,name:"lastname",onChange:this.handleChange})),n.a.createElement(k.a.Group,null,n.a.createElement(k.a.Label,null,"Password"),n.a.createElement(k.a.Control,{type:"password",value:this.state.password,name:"password",onChange:this.handleChange})),n.a.createElement("div",{className:"buttons"},n.a.createElement(x.a,{variant:"info",type:"submit"},"Update")))))}}]),t}(n.a.Component),ee=Object(i.f)(Z),te=a(319),ae=a(320),re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={searchText:"Select a Symbol",searchValue:"",prevStocks:[],symbols:[],companies:[],data:[],dataType:"",error:!1,searchDisabled:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.addUserStock=a.addUserStock.bind(Object(g.a)(a)),a.deleteUserStock=a.deleteUserStock.bind(Object(g.a)(a)),a.toggleChange=a.toggleChange.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){void 0!==e[0]&&this.setState({searchValue:encodeURIComponent(e[0])})}},{key:"toggleChange",value:function(e){1===e&&this.setState({searchText:"Select a Symbol",data:this.state.symbols,dataType:"symbol",searchValue:""}),2===e&&this.setState({searchText:"Select a Company",data:this.state.companies,dataType:"company",searchValue:""})}},{key:"prepareSearchbar",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,a,r,n,s,o,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("symbols")){e.next=19;break}return t="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/symbols"),e.prev=2,e.next=5,fetch(t);case 5:if(200!==(a=e.sent).status){e.next=12;break}return e.next=9,a.json();case 9:r=e.sent,localStorage.setItem("symbols",JSON.stringify(r)),this.setState({symbols:r});case 12:if(500!==a.status){e.next=14;break}throw new Y;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),this.setState({error:!0});case 19:if(localStorage.getItem("companies")){e.next=38;break}return n="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/companies"),e.prev=21,e.next=24,fetch(n);case 24:if(200!==(s=e.sent).status){e.next=31;break}return e.next=28,s.json();case 28:o=e.sent,localStorage.setItem("companies",JSON.stringify(o)),this.setState({companies:o});case 31:if(500!==s.status){e.next=33;break}throw new Y;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(21),this.setState({error:!0});case 38:this.setState({symbols:JSON.parse(localStorage.getItem("symbols")),companies:JSON.parse(localStorage.getItem("companies"))},(function(){c.setState({data:c.state.symbols,dataType:"symbol"})}));case 39:case"end":return e.stop()}}),e,this,[[2,16],[21,35]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbolForCompany",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/convert/company/").concat(t),e.prev=1,e.next=4,fetch(a);case 4:if(200!==(r=e.sent).status){e.next=10;break}return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:if(500!==r.status){e.next=12;break}throw new Y;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({error:!0});case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUserStock",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i,l,h,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.searchValue){e.next=3;break}return e.abrupt("return");case 3:if("company"!==this.state.dataType){e.next=14;break}return e.prev=4,e.next=7,this.getSymbolForCompany(this.state.searchValue);case 7:a=e.sent,this.setState({searchValue:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.setState({error:!0});case 14:return r=this.state.searchValue,n=localStorage.getItem("id"),s=localStorage.getItem("username"),o=JSON.stringify({userId:n,stock:r,username:s}),c="".concat("https://pvr3p4njrl.execute-api.us-east-1.amazonaws.com/dev/api/user/watchlist"),e.prev=19,e.next=22,G(c,o);case 22:if(200!==(i=e.sent).status){e.next=35;break}return e.next=26,i.json();case 26:l=e.sent,h=l.symbol,(m=JSON.parse(localStorage.getItem("stocks"))).push(h),m=JSON.stringify(m),localStorage.setItem("stocks",m),(m=JSON.parse(localStorage.getItem("stocks"))).length>=3?this.setState({searchDisabled:!0}):this.setState({searchDisabled:!1}),this.setState({searchValue:"",error:!1,prevStocks:JSON.parse(localStorage.getItem("stocks"))});case 35:if(500!==i.status){e.next=37;break}throw new Y;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(19),this.setState({error:!0});case 42:case"end":return e.stop()}}),e,this,[[4,11],[19,39]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUserStock",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r,n,s,o,c,i,l,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.dataset.stock,r=localStorage.getItem("id"),n=JSON.stringify({userId:r,stock:a}),s="".concat("https://pvr3p4njrl.execute-api.us-east-1.amazonaws.com/dev/api/user/watchlist"),e.prev=5,e.next=8,W(s,n);case 8:if(200!==(o=e.sent).status){e.next=21;break}return e.next=12,o.json();case 12:for(c=e.sent,i=c.symbol,l=JSON.parse(localStorage.getItem("stocks")),h=0;h<l.length;h++)l[h]===i&&l.splice(h,1);l=JSON.stringify(l),localStorage.setItem("stocks",l),(l=JSON.parse(localStorage.getItem("stocks"))).length>=3?this.setState({searchDisabled:!0}):this.setState({searchDisabled:!1}),this.setState({error:!1,prevStocks:JSON.parse(localStorage.getItem("stocks"))});case 21:if(500!==o.status){e.next=23;break}throw new Y;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(5),this.setState({error:!0});case 28:case"end":return e.stop()}}),e,this,[[5,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.prepareSearchbar();var e=JSON.parse(localStorage.getItem("stocks"));e.length>0&&this.setState({prevStocks:e}),e.length>=3&&this.setState({searchDisabled:!0})}},{key:"render",value:function(){var e=this,t=n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(Y,{message:"There has been an error. Please try again later!"}):""),a=n.a.createElement(n.a.Fragment,null,t,n.a.createElement(B,{header:"Notice",message:"Due to limitations in the API used for this application, only up to 3 stocks are allowed to be added."}),";",n.a.createElement(k.a.Label,null,"Add to Watchlist"),n.a.createElement(k.a,{inline:!0,onSubmit:this.addUserStock},n.a.createElement(k.a.Group,null,n.a.createElement(C.Typeahead,{id:"watchlistInput",onChange:this.handleChange,options:this.state.data,flip:!0,placeholder:this.state.searchText,value:this.state.searchValue}),n.a.createElement(S.a,{id:"toggleGroupWatchlist",type:"radio",name:"search-option",defaultValue:1,onChange:this.toggleChange},n.a.createElement(E.a,{variant:"outline-info",value:1},"Symbol"),n.a.createElement(E.a,{variant:"outline-info",value:2},"Company"))),n.a.createElement(x.a,{variant:"outline-success",type:"submit",disabled:this.state.searchDisabled},"Add")));if(this.state.prevStocks instanceof Array&&this.state.prevStocks.length>0){var r=a;(a=[]).push(r);var s=[];this.state.prevStocks.forEach((function(t){s.push(n.a.createElement(n.a.Fragment,null,n.a.createElement(te.a.Item,{variant:"info"},n.a.createElement("span",null,n.a.createElement("a",{href:"/search/".concat(t)},t)),n.a.createElement("span",{className:"float-right"},n.a.createElement(x.a,{"data-stock":t,variant:"outline-danger",size:"sm",onClick:e.deleteUserStock},"Remove")))))}));var o=n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(k.a.Label,null,"Currently Watched Stocks"),n.a.createElement(ae.a,{bg:"info"},n.a.createElement(te.a,{variant:"flush"},s)));a.push(o)}return n.a.createElement("div",{id:"watchlist"},a)}}]),t}(n.a.Component),ne=(a(308),a(309),"".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/yearly/")),se="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/dow30"),oe="".concat("https://ny7uz4m8qa.execute-api.us-east-1.amazonaws.com/dev/api/stocks/watchlist"),ce=n.a.createElement(c.a,null,n.a.createElement(N,null),n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:function(e){return O()?n.a.createElement(H,{api:oe}):n.a.createElement(R,{api:se,symbol:""})}}),n.a.createElement(i.a,{exact:!0,path:"/search/:stock",component:function(e){return n.a.createElement(R,{api:ne,symbol:e.match.params.stock})}}),n.a.createElement(i.a,{exact:!0,path:"/login",component:function(e){return O()?n.a.createElement(M,null):n.a.createElement(K,null)}}),n.a.createElement(i.a,{exact:!0,path:"/register",component:function(e){return O()?n.a.createElement(M,null):n.a.createElement(X,null)}}),n.a.createElement(i.a,{exact:!0,path:"/settings",component:function(e){return O()?n.a.createElement(ee,null):n.a.createElement(M,null)}}),n.a.createElement(i.a,{exact:!0,path:"/watchlist",component:function(e){return O()?n.a.createElement(re,null):n.a.createElement(M,null)}}),n.a.createElement(i.a,{exact:!0,path:"/dow30",component:function(e){return n.a.createElement(R,{api:se,symbol:""})}}),n.a.createElement(i.a,{component:M})));o.a.render(ce,document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.564cba8e.chunk.js.map